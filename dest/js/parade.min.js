!function(t,i){if("function"==typeof define&&define.amd)define(["module"],i);else if("undefined"!=typeof exports)i(module);else{var e={exports:{}};i(e),t.parade=e.exports}}(this,function(t){"use strict";var e=function(){function s(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,i,e){return i&&s(t.prototype,i),e&&s(t,e),t}}(),i=function(){function i(t){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),this.args=void 0!==t?t:{},this.elm=void 0!==this.args.elm?this.args.elm:document.querySelector(".parade"),this.items=null!==this.elm?[].slice.call(this.elm.children):"",this.singleGridItem=document.querySelector('[data-grid="1,1"]'),this.cols=null!==this.singleGridItem?Math.floor(this.elm.getBoundingClientRect().width/this.singleGridItem.getBoundingClientRect().width):100,this.rows=this.items.length/this.cols,this.verticalGridCnt=0,this.itemsData=[],this.Parade()}return e(i,[{key:"Parade",value:function(){var t=this;if(""!==this.items){for(var i in this.items)this.itemsData.push(this.SetData(this.items[i]));this.InitPos(!0),this.itemsData[0].obj.addEventListener("transitionend",function(){t.InitPos(!1)}),window.addEventListener("resize",function(){t.InitPos(!1)})}}},{key:"InitPos",value:function(t){if(!t){for(var i in this.cols=Math.floor(this.elm.getBoundingClientRect().width/this.items[0].getBoundingClientRect().width),this.rows=Math.floor(this.itemsData.length/this.cols),this.itemsData)this.itemsData[i]=this.SetData(this.itemsData[i].obj);this.matrix=[]}this.verticalGridCnt=0,this.matrix=this.GenerateMatrix(),this.SetToMatrix(this.itemsData),this.elm.style.height=this.allHeight*this.verticalGridCnt+"px"}},{key:"SetData",value:function(t){var i=t.getBoundingClientRect(),e=t.dataset.grid.split(",");return 1===Number(e[1])&&(this.allHeight=i.height),{obj:t,width:100/this.cols,height:i.height,row:Number(e[0]),col:Number(e[1])}}},{key:"GenerateMatrix",value:function(){for(var t=[],i=0,e=void 0;i<this.rows+2;){for(e=0,t[i]=[];e<this.cols;)t[i][e]=0,e++;i++}return t}},{key:"SetToMatrix",value:function(t){for(var i=0,e=0,s=void 0,n=void 0,o=void 0,r=void 0,a=!1,h=0;e<this.matrix.length;){for(s=0;s<this.cols;){if(void 0===t[i])return;if(0===this.matrix[e][s]){if(void 0===(h=this.matrix[e][s+t[i].col-1])||1===h){a=!0;break}for(r=this.singleGridItem.children[0].getBoundingClientRect().height,t[i].obj.style.position="absolute",t[i].obj.style.top=Math.round(e*r)+"px",t[i].obj.style.left=s*t[i].width+"%",t[i].obj.classList.add(i),n=0;n<t[i].row;){for(o=0;o<t[i].col;)this.matrix[e+n][s+o]=1,o++;0===s&&1===this.matrix[e][s]&&this.verticalGridCnt++,n++}a&&(e=s=0,a=!1),i++}s++}e++}}}]),i}();t.exports=i,"undefined"!=typeof window&&!window.Parade&&(window.Parade=i)});