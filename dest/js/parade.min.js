!function(t,i){if("function"==typeof define&&define.amd)define(["module"],i);else if("undefined"!=typeof exports)i(module);else{var e={exports:{}};i(e),t.parade=e.exports}}(this,function(t){"use strict";var e=function(){function o(t,i){for(var e=0;e<i.length;e++){var o=i[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,i,e){return i&&o(t.prototype,i),e&&o(t,e),t}}(),i=function(){function i(t){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),this.args=void 0!==t?t:{},this.elm=void 0!==this.args.elm?this.args.elm:document.querySelector(".parade"),this.items=null!==this.elm?[].slice.call(this.elm.children):"",this.cols=Math.floor(this.elm.getBoundingClientRect().width/this.items[0].getBoundingClientRect().width),this.rows=this.items.length/this.cols,this.gridW=Math.floor(this.elm.getBoundingClientRect().width*(100/this.cols/100)),this.itemsData=[],this.Parade()}return e(i,[{key:"Parade",value:function(){var t=this;if(""!==this.items){for(var i in this.items)this.itemsData.push(this.SetData(this.items[i]));this.matrix=this.GenerateMatrix(),this.SetToMatrix(this.itemsData),this.itemsData[0].obj.addEventListener("transitionend",function(){t.InitPos()}),window.addEventListener("resize",function(){t.InitPos()}),console.log(this.matrix)}}},{key:"InitPos",value:function(){for(var t in this.cols=Math.floor(this.elm.getBoundingClientRect().width/this.items[0].getBoundingClientRect().width),this.rows=this.itemsData.length/this.cols,this.matrix=[],this.matrix=this.GenerateMatrix(),this.itemsData)this.itemsData[t]=this.SetData(this.itemsData[t].obj);this.SetToMatrix(this.itemsData),console.log(this.matrix)}},{key:"SetData",value:function(t){var i=t.getBoundingClientRect(),e=t.dataset.grid.split(",");return{obj:t,width:100/this.cols,height:i.height,row:Number(e[0]),col:Number(e[1])}}},{key:"GenerateMatrix",value:function(){for(var t=[],i=0,e=void 0;i<this.rows+2;){for(e=0,t[i]=[];e<this.cols;)t[i][e]=0,e++;i++}return t}},{key:"SetToMatrix",value:function(t){for(var i=0,e=0,o=void 0,s=void 0,n=void 0,a=void 0;e<this.rows+2;){for(o=0;o<this.cols;){if(void 0===t[i])return;if(0===this.matrix[e][o]){if(console.log({cnt:i,j:o,col:t[i].col,next:this.matrix[e][o+t[i].col-1],top:Math.round(e*a),left:o*t[i].width}),void 0===this.matrix[e][o+t[i].col-1])break;for(a=t[0].obj.children[0].getBoundingClientRect().height,t[i].obj.style.position="absolute",2===i&&console.log(Math.round(a)),t[i].obj.style.top=Math.round(e*a)+"px",t[i].obj.style.left=o*t[i].width+"%",t[i].obj.classList.add(i),s=0;s<t[i].row;){for(n=0;n<t[i].col;)this.matrix[e+s][o+n]=1,n++;s++}i++}o++}e++}}}]),i}();t.exports=i,"undefined"!=typeof window&&!window.Parade&&(window.Parade=i)});