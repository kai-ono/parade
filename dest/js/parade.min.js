!function(t,i){if("function"==typeof define&&define.amd)define(["module"],i);else if("undefined"!=typeof exports)i(module);else{var e={exports:{}};i(e),t.parade=e.exports}}(this,function(t){"use strict";var e=function(){function s(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,i,e){return i&&s(t.prototype,i),e&&s(t,e),t}}(),i=function(){function i(t){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),this.args=void 0!==t?t:{},this.elm=void 0!==this.args.elm?this.args.elm:document.querySelector(".parade"),this.items=null!==this.elm?[].slice.call(this.elm.children):"",this.cols=Math.floor(this.elm.getBoundingClientRect().width/this.items[0].getBoundingClientRect().width),this.rows=this.items.length/this.cols,this.itemsData=[],this.Parade()}return e(i,[{key:"Parade",value:function(){var t=this;if(""!==this.items){for(var i in this.items)this.itemsData.push(this.SetData(this.items[i]));this.matrix=this.GenerateMatrix(),this.SetToMatrix(this.itemsData),this.itemsData[0].obj.addEventListener("transitionend",function(){t.InitPos()}),window.addEventListener("resize",function(){t.InitPos()}),console.log(this.matrix)}}},{key:"InitPos",value:function(){for(var t in this.cols=Math.floor(this.elm.getBoundingClientRect().width/this.items[0].getBoundingClientRect().width),this.rows=Math.floor(this.itemsData.length/this.cols),this.matrix=[],this.matrix=this.GenerateMatrix(),this.itemsData)this.itemsData[t]=this.SetData(this.itemsData[t].obj);this.SetToMatrix(this.itemsData),console.log(this.matrix)}},{key:"SetData",value:function(t){var i=t.getBoundingClientRect(),e=t.dataset.grid.split(",");return{obj:t,width:100/this.cols,height:i.height,row:Number(e[0]),col:Number(e[1])}}},{key:"GenerateMatrix",value:function(){for(var t=[],i=0,e=void 0;i<this.rows+2;){for(e=0,t[i]=[];e<this.cols;)t[i][e]=0,e++;i++}return t}},{key:"SetToMatrix",value:function(t){var i=0,e=0,s=void 0,o=void 0,n=void 0,a=void 0,r=!1,h=0;for(console.log(this.matrix);e<this.matrix.length;){for(s=0;s<this.cols;){if(void 0===t[i])return;if(0===this.matrix[e][s]){if(void 0===(h=this.matrix[e][s+t[i].col-1])||1===h){r=!0;break}for(a=t[0].obj.children[0].getBoundingClientRect().height,t[i].obj.style.position="absolute",t[i].obj.style.top=Math.round(e*a)+"px",t[i].obj.style.left=s*t[i].width+"%",t[i].obj.classList.add(i),o=0;o<t[i].row;){for(n=0;n<t[i].col;)this.matrix[e+o][s+n]=1,n++;o++}r&&(console.log("skip"),console.log(this.matrix),e=s=0,r=!1),i++}s++}e++}}}]),i}();t.exports=i,"undefined"!=typeof window&&!window.Parade&&(window.Parade=i)});